<div class="reg_progress clearfix">
    <ol>
        <li>
            <a href="javascript:;"><i></i>填写账号信息</a>
        </li>
        <li class="active">
            <a href="javascript:;"><i></i>填写公司信息</a>
        </li>
        <li>
            <a href="javascript:;"><i></i>填写联系人信息</a>
        </li>
        <li>
            <a href="javascript:;"><i></i>完成注册</a>
        </li>
    </ol>
</div>
<div class="passport-signup-container">
    <div class="panel panel-default signup-panel">
        <div class="panel-heading clearfix">
            注册成为会员(卖家)
            <!-- <a class="btn btn-danger btn-xs pull-right" href="<{link app=b2c ctl=site_passport act=login args0=$forward}>">立即登录&raquo;</a> -->
        </div>
        <div class="panel-body">
            <form id="seller_signup_form" class="form-horizontal" action="<{link app=seller ctl=site_passport act=signup args0=2}>" method="post">
                <!-- 登陆后跳转地址 -->
                <input type="hidden" name="forward" value="<{$forward}>">
                <div class="form-group">
                    <label for="" class="col-xs-2 control-label">公司名称<span class="text-danger">*</span></label>
                    <div class="col-xs-5">
                        <input type="text" required="true" autocomplete='off' name="seller[company_name]" value="" class="form-control" id="input_login_name" placeholder="公司名称" />
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-xs-2 control-label">所在地区<span class="text-danger">*</span></label>
                    <div class="col-xs-5">
                        <{input type=region required="true" name="seller[company_area]" value=$company.company_area }>
                    </div>
                </div>
                <div class="form-group">
                    <label for="input_addr" class="col-xs-2 control-label">详细地址<span class="text-danger">*</span></label>
                    <div class="col-xs-5">
                        <input type="text" required="true" name="seller[company_addr]" value="" class="form-control" id="input_company_addr" placeholder="详细地址" />
                    </div>
                </div>
                <div class="form-group">
                    <label class="col-xs-2 control-label">公司电话<span class="text-danger">*</span></label>
                    <div class="col-xs-5">
                        <input type="text" required="true" name="seller[company_tel]" value="" class="form-control" id="input_company_addr" placeholder="公司电话" />
                    </div>
                </div>
                <div class="form-group">
                    <label for="input_vcode" class="col-xs-2 control-label">紧急联系人<span class="text-danger">*</span></label>
                    <div class="col-xs-5">
                        <input type="text" required="true" name="seller[company_contacts]" value="" class="form-control" id="input_company_addr" placeholder="紧急联系人" />
                    </div>
                </div>
                <div class="form-group">
                    <label for="input_vcode" class="col-xs-2 control-label">联系人手机<span class="text-danger">*</span></label>
                    <div class="col-xs-5">
                        <input type="text" required="true" name="seller[contacts_phone]" value="" class="form-control" id="input_company_addr" placeholder="联系人电话" />
                    </div>
                </div>
                <div class="form-group">
                    <div class="col-md-offset-2 col-md-4">
                    	<button type="submit" class="btn btn-warning">上一步</button>
                        <button type="submit" data-loading-text="正在提交..." class="btn btn-warning">下一步</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>
<script>
    void function(signup_form) {
        var _alert_error = function(msg) {
            signup_form.find('.alert-error').remove();
            signup_form.append($('<div class="alert alert-danger">' + msg + '</div>'));
            alert_timer = setTimeout(function() {
                clearTimeout(alert_timer);
                signup_form.find('.alert-danger').fadeOut('fast', function() {
                    $(this).remove();
                });
            }, 3000);
        }
        signup_form.on('submit', function(e){
            e.stopPropagation();
            $.post(signup_form.attr('action'), signup_form.serialize(), function(re){
                if(re.error){
                    _alert_error(re.error);
                }else if(re.success){
                    location = re.redirect;
                }
            }, 'json');
            return false;
        });
    }($('#seller_signup_form'));
</script>
